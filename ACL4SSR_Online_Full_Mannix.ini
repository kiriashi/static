[custom]
ruleset=DIRECT,https://gh-proxy.com/https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/LocalAreaNetwork.list
ruleset=DIRECT,https://gh-proxy.com/https://raw.githubusercontent.com/zsokami/ACL4SSR/main/ChinaOnly.list
ruleset=ğŸ§± â€å¢™å†…,https://gh-proxy.com/https://raw.githubusercontent.com/zsokami/ACL4SSR/main/UnBan1.list
ruleset=ğŸ§± â€å¢™å†…,https://gh-proxy.com/https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/UnBan.list
ruleset=ğŸ”° â€å¹¿å‘Šæ‹¦æˆª,https://gh-proxy.com/https://raw.githubusercontent.com/zsokami/ACL4SSR/main/BanProgramAD1.list
ruleset=ğŸ”° â€å¹¿å‘Šæ‹¦æˆª,https://gh-proxy.com/https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanAD.list
ruleset=ğŸ”° â€å¹¿å‘Šæ‹¦æˆª,https://gh-proxy.com/https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanProgramAD.list
ruleset=ğŸ§± â€å¢™å†…,https://gh-proxy.com/https://raw.githubusercontent.com/zsokami/ACL4SSR/main/GoogleCN.list
ruleset=ğŸ§± â€å¢™å†…,https://gh-proxy.com/https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/SteamCN.list
ruleset=ğŸ“º å“”å“©å“”å“©,https://gh-proxy.com/https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/BilibiliHMT.list
ruleset=ğŸ“º å“”å“©å“”å“©,https://gh-proxy.com/https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Bilibili.list
ruleset=ğŸ¥ NETFLIX,https://gh-proxy.com/https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Netflix.list
ruleset=ğŸ¥ NETFLIX,https://gh-proxy.com/https://raw.githubusercontent.com/LM-Firefly/Rules/master/Global-Services/Netflix.list
ruleset=ğŸ¤– äººå·¥æ™ºèƒ½,https://gh-proxy.com/https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/AI.list
ruleset=âœˆï¸ â€èµ·é£,https://gh-proxy.com/https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyGFWlist.list
ruleset=âœˆï¸ â€èµ·é£,https://gh-proxy.com/https://raw.githubusercontent.com/LoveMyself546/ACL4SSR/refs/heads/master/Clash/Ruleset/GoogleFCM.list
ruleset=ğŸ§± â€å¢™å†…,https://gh-proxy.com/https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaDomain.list
ruleset=ğŸ§± â€å¢™å†…,https://gh-proxy.com/https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaCompanyIp.list
ruleset=ğŸ§± â€å¢™å†…,[]GEOIP,CN
ruleset=ğŸŸ æ¼ç½‘ä¹‹é±¼,[]FINAL

custom_proxy_group=âœˆï¸ â€èµ·é£`select`[]â™»ï¸ â€è‡ªåŠ¨é€‰æ‹©`[]ğŸš€ æ‰‹åŠ¨åˆ‡æ¢`[]ğŸ‡­ğŸ‡° â€é¦™æ¸¯`[]ğŸ‡¹ğŸ‡¼ â€å°æ¹¾`[]ğŸ‡¨ğŸ‡³ â€ä¸­å›½`[]ğŸ‡¸ğŸ‡¬ â€æ–°åŠ å¡`[]ğŸ‡¯ğŸ‡µ â€æ—¥æœ¬`[]ğŸ‡ºğŸ‡¸ â€ç¾å›½`[]ğŸ‡ºğŸ‡³ â€å…¶ä»–`[]DIRECT`[]REJECT
custom_proxy_group=ğŸ§± â€å¢™å†…`select`[]DIRECT`[]REJECT`[]âœˆï¸ â€èµ·é£
custom_proxy_group=â™»ï¸ â€è‡ªåŠ¨é€‰æ‹©`url-test`^`https://i.ytimg.com/generate_204`30,,100
custom_proxy_group=ğŸš€ æ‰‹åŠ¨åˆ‡æ¢`select`^
custom_proxy_group=ğŸ”° â€å¹¿å‘Šæ‹¦æˆª`select`[]REJECT`[]ğŸ§± â€å¢™å†…`[]âœˆï¸ â€èµ·é£
custom_proxy_group=ğŸ“º å“”å“©å“”å“©`select`[]ğŸ§± â€å¢™å†…`[]ğŸ‡­ğŸ‡° â€é¦™æ¸¯`[]ğŸ‡¹ğŸ‡¼ â€å°æ¹¾`[]ğŸ‡¨ğŸ‡³ â€ä¸­å›½`[]âœˆï¸ â€èµ·é£`[]ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
custom_proxy_group=ğŸ¥ NETFLIX`select`[]ğŸ‡ºğŸ‡¸ â€ç¾å›½`[]ğŸ‡¹ğŸ‡¼ â€å°æ¹¾`[]ğŸ‡¸ğŸ‡¬ â€æ–°åŠ å¡`[]ğŸ‡¯ğŸ‡µ â€æ—¥æœ¬`[]ğŸ‡ºğŸ‡³ â€å…¶ä»–`[]âœˆï¸ â€èµ·é£`[]ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
custom_proxy_group=ğŸ¤– äººå·¥æ™ºèƒ½`select`[]ğŸ‡ºğŸ‡¸ â€ç¾å›½`[]ğŸ‡¹ğŸ‡¼ â€å°æ¹¾`[]ğŸ‡¸ğŸ‡¬ â€æ–°åŠ å¡`[]ğŸ‡¯ğŸ‡µ â€æ—¥æœ¬`[]ğŸ‡ºğŸ‡³ â€å…¶ä»–`[]âœˆï¸ â€èµ·é£`[]ğŸš€ æ‰‹åŠ¨åˆ‡æ¢`[]ğŸ§± â€å¢™å†…
custom_proxy_group=ğŸŸ æ¼ç½‘ä¹‹é±¼`select`[]âœˆï¸ â€èµ·é£`[]ğŸ›©ï¸ â€å¢™å†…`[]ğŸ’© â€å¹¿å‘Š
custom_proxy_group=ğŸ‡­ğŸ‡° â€é¦™æ¸¯`url-test`ğŸ‡­ğŸ‡°(?!.*(?!ğŸ‡¨ğŸ‡³)[ğŸ‡¦-ğŸ‡¿]{2})`https://i.ytimg.com/generate_204`15,,100
custom_proxy_group=ğŸ‡¹ğŸ‡¼ â€å°æ¹¾`url-test`ğŸ‡¹ğŸ‡¼(?!.*(?!ğŸ‡¨ğŸ‡³)[ğŸ‡¦-ğŸ‡¿]{2})`https://i.ytimg.com/generate_204`15,,100
custom_proxy_group=ğŸ‡¨ğŸ‡³ â€ä¸­å›½`url-test`(ğŸ‡­ğŸ‡°|ğŸ‡¹ğŸ‡¼|ğŸ‡¨ğŸ‡³|ğŸ‡²ğŸ‡´)(?!.*[ğŸ‡¦-ğŸ‡¿]{2})`https://i.ytimg.com/generate_204`15,,100
custom_proxy_group=ğŸ‡¸ğŸ‡¬ â€æ–°åŠ å¡`url-test`ğŸ‡¸ğŸ‡¬(?!.*[ğŸ‡¦-ğŸ‡¿]{2})`https://i.ytimg.com/generate_204`15,,100
custom_proxy_group=ğŸ‡¯ğŸ‡µ â€æ—¥æœ¬`url-test`ğŸ‡¯ğŸ‡µ(?!.*[ğŸ‡¦-ğŸ‡¿]{2})`https://i.ytimg.com/generate_204`15,,100
custom_proxy_group=ğŸ‡ºğŸ‡¸ â€ç¾å›½`url-test`(ğŸ‡ºğŸ‡¸|ğŸ‡ºğŸ‡²)(?!.*[ğŸ‡¦-ğŸ‡¿]{2})`https://i.ytimg.com/generate_204`15,,300
custom_proxy_group=ğŸ‡ºğŸ‡³ â€å…¶ä»–`url-test`^(?!.*(ğŸ‡¨ğŸ‡³|ğŸ‡­ğŸ‡°|ğŸ‡²ğŸ‡´|ğŸ‡¹ğŸ‡¼|ğŸ‡¸ğŸ‡¬|ğŸ‡¯ğŸ‡µ|ğŸ‡ºğŸ‡¸|ğŸ‡ºğŸ‡²)(?!.*[ğŸ‡¦-ğŸ‡¿]{2}))`https://i.ytimg.com/generate_204`30,,100

enable_rule_generator=true
overwrite_original_rules=true

mode: rule
# ipv6 æ”¯æŒ
ipv6: true
log-level: info
# å…è®¸å±€åŸŸç½‘è¿æ¥
allow-lan: true
# socks5/http ç«¯å£
mixed-port: 7890
# Meta å†…æ ¸ç‰¹æ€§ https://wiki.metacubex.one/config/general
# ç»Ÿä¸€å»¶è¿Ÿ
# æ›´æ¢å»¶è¿Ÿè®¡ç®—æ–¹å¼,å»é™¤æ¡æ‰‹ç­‰é¢å¤–å»¶è¿Ÿ
unified-delay: true
# TCP å¹¶å‘
# åŒæ—¶å¯¹æ‰€æœ‰ipè¿›è¡Œè¿æ¥ï¼Œè¿”å›å»¶è¿Ÿæœ€ä½çš„åœ°å€
tcp-concurrent: true
# å¤–éƒ¨æ§åˆ¶ç«¯å£
external-controller: :9090

geodata-mode: true
geodata-loader: standard
geo-auto-update: false
geo-update-interval: 24
# Geo æ•°æ®åº“ä¸‹è½½åœ°å€
# æºåœ°å€ https://github.com/MetaCubeX/meta-rules-dat
# å¯ä»¥æ›´æ¢é•œåƒç«™ä½†ä¸è¦æ›´æ¢å…¶ä»–æ•°æ®åº“ï¼Œå¯èƒ½å¯¼è‡´æ— æ³•å¯åŠ¨
geox-url:
  geoip: "https://ghfast.top/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geoip.dat"
  geosite: "https://ghfast.top/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geosite.dat"
  mmdb: "https://ghfast.top/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/country.mmdb"
  asn: "https://ghfast.top/https://github.com/xishang0128/geoip/releases/download/latest/GeoLite2-ASN.mmdb"

# è¿›ç¨‹åŒ¹é…æ¨¡å¼
# è·¯ç”±å™¨ä¸Šè¯·è®¾ç½®ä¸º off
# always å¼€å¯ï¼Œå¼ºåˆ¶åŒ¹é…æ‰€æœ‰è¿›ç¨‹
# strict é»˜è®¤ï¼Œç”± Clash åˆ¤æ–­æ˜¯å¦å¼€å¯
# off ä¸åŒ¹é…è¿›ç¨‹ï¼Œæ¨èåœ¨è·¯ç”±å™¨ä¸Šä½¿ç”¨æ­¤æ¨¡å¼
find-process-mode: strict

# ç¼“è§£ç§»åŠ¨è®¾å¤‡è€—ç”µé—®é¢˜
# https://github.com/vernesong/OpenClash/issues/2614
keep-alive-interval: 600

# å…¨å±€å®¢æˆ·ç«¯æŒ‡çº¹
global-client-fingerprint: random # éšæœºæŒ‡çº¹

# ç¼“å­˜
profile:
  store-selected: true
  store-fake-ip: true

# è‡ªåŠ¨åŒæ­¥æ—¶é—´ä»¥é˜²æ­¢æ—¶é—´ä¸å‡†å¯¼è‡´æ— æ³•æ­£å¸¸è”ç½‘
ntp:
  enable: true
  # æ˜¯å¦åŒæ­¥è‡³ç³»ç»Ÿæ—¶é—´ï¼Œéœ€è¦ root/ç®¡ç†å‘˜æƒé™
  write-to-system: false
  server: time.apple.com
  port: 123
  interval: 30

# åŸŸåå—…æ¢
sniffer:
  enable: true
  sniff:
    HTTP:
      ports: [80, 8080-8880]
      override-destination: true
    TLS:
      ports: [443, 8443]
    QUIC:
      ports: [443, 8443]
  force-domain:
    - "+.netflix.com"
    - "+.nflxvideo.net"
    - "+.amazonaws.com"
    - "+.media.dssott.com"
  skip-domain:
    - "+.apple.com"
    - Mijia Cloud
    - dlg.io.mi.com
    - "+.oray.com"
    - "+.sunlogin.net"
    - "+.push.apple.com"

# tun æ¨¡å¼
tun:
  enable: false  # enable 'true'
  stack: mixed  # or 'gvisor' 'system'
  dns-hijack:
    - "any:53"
    - "tcp://any:53"
  auto-route: true
  auto-redirect: true
  auto-detect-interface: true

# dns è®¾ç½®
# å·²é…ç½® ipv6
dns:
  enable: true
  listen: :1053
  ipv6: true
  # è·¯ç”±å™¨ä¸ªäººå»ºè®®ä½¿ç”¨ redir-host ä»¥æœ€ä½³å…¼å®¹æ€§
  # å…¶ä»–è®¾å¤‡å¯ä»¥ä½¿ç”¨ fake-ip
  enhanced-mode: fake-ip
  fake-ip-range: 28.0.0.1/8
  fake-ip-filter-mode: blacklist
  fake-ip-filter:
    - "*.lan"
    - "*.localdomain"
    - "*.example"
    - "*.invalid"
    - "*.localhost"
    - "*.test"
    - "*.local"
    - "*.home.arpa"
    - "*.direct"
    - i.ytimg.com
    - cable.auth.com
    - network-test.debian.org
    - detectportal.firefox.com
    - resolver1.opendns.com
    - global.turn.twilio.com
    - global.stun.twilio.com
    - app.yinxiang.com
    - injections.adguard.org
    - localhost.*.weixin.qq.com
    - "*.blzstatic.cn"
    - "*.cmpassport.com"
    - id6.me
    - open.e.189.cn
    - opencloud.wostore.cn
    - id.mail.wo.cn
    - mdn.open.wo.cn
    - hmrz.wo.cn
    - nishub1.10010.com
    - enrichgw.10010.com
    - "*.wosms.cn"
    - "*.jegotrip.com.cn"
    - "*.icitymobile.mobi"
    - "*.pingan.com.cn"
    - "*.cmbchina.com"
    - "*.10099.com.cn"
    - "*.microdone.cn"
    - PDC._msDCS.*.*
    - DC._msDCS.*.*
    - GC._msDCS.*.*
    - time.*.com
    - time.*.gov
    - time.*.edu.cn
    - time.*.apple.com
    - time-ios.apple.com
    - time1.*.com
    - time2.*.com
    - time3.*.com
    - time4.*.com
    - time5.*.com
    - time6.*.com
    - time7.*.com
    - ntp.*.com
    - ntp1.*.com
    - ntp2.*.com
    - ntp3.*.com
    - ntp4.*.com
    - ntp5.*.com
    - ntp7.*.com
    - "*.time.edu.cn"
    - "*.ntp.org.cn"
    - "+.pool.ntp.org"
    - time1.cloud.tencent.com
    - music.163.com
    - "*.music.163.com"
    - musicapi.taihe.com
    - music.taihe.com
    - songsearch.kugou.com
    - trackercdn.kugou.com
    - "*.kuwo.cn"
    - api-jooxtt.sanook.com
    - api.joox.com
    - joox.com
    - y.qq.com
    - "*.y.qq.com"
    - streamoc.music.tc.qq.com
    - mobileoc.music.tc.qq.com
    - isure.stream.qqmusic.qq.com
    - dl.stream.qqmusic.qq.com
    - aqqmusic.tc.qq.com
    - amobile.music.tc.qq.com
    - "*.xiami.com"
    - "*.music.migu.cn"
    - music.migu.cn
    - "+.msftconnecttest.com"
    - "+.msftncsi.com"
    - localhost.ptlogin2.qq.com
    - localhost.sec.qq.com
    - "+.qq.com"
    - "+.tencent.com"
    - "+.srv.nintendo.net"
    - "*.n.n.srv.nintendo.net"
    - "+.cdn.nintendo.net"
    - "+.stun.playstation.net"
    - xbox.*.*.microsoft.com
    - "*.*.xboxlive.com"
    - xbox.*.microsoft.com
    - xnotify.xboxlive.com
    - "+.battle.net"
    - "+.battlenet.com.cn"
    - "+.wotgame.cn"
    - "+.wggames.cn"
    - "+.wowsgame.cn"
    - "+.wargaming.net"
    - proxy.golang.org
    - stun.*.*
    - stun.*.*.*
    - "+.stun.*.*"
    - "+.stun.*.*.*"
    - "+.stun.*.*.*.*"
    - "+.stun.*.*.*.*.*"
    - heartbeat.belkin.com
    - "*.linksys.com"
    - "*.linksyssmartwifi.com"
    - "*.router.asus.com"
    - mesu.apple.com
    - swscan.apple.com
    - swquery.apple.com
    - swdownload.apple.com
    - swcdn.apple.com
    - swdist.apple.com
    - lens.l.google.com
    - stun.l.google.com
    - na.b.g-tun.com
    - "+.nflxvideo.net"
    - "*.square-enix.com"
    - "*.finalfantasyxiv.com"
    - "*.ffxiv.com"
    - "*.ff14.sdo.com"
    - ff.dorado.sdo.com
    - "*.mcdn.bilivideo.cn"
    - "+.media.dssott.com"
    - shark007.net
    - Mijia Cloud
    - "+.cmbchina.com"
    - "+.cmbimg.com"
    - local.adguard.org
    - "+.sandai.net"
    - "+.n0808.com"
    - "+.uu.163.com"
    - ps.res.netease.com
    - "+.pub.3gppnetwork.org"
    - "+.services.googleapis.cn"
    - "+.googleapis.cn"
    - "+.xn--ngstr-lra8j.com"
  default-nameserver:
    - 223.5.5.5
    - 119.29.29.29
    - 114.114.114.114
    - '[2402:4e00::]'
    - '[2400:3200::1]'
  nameserver:
    - 'tls://8.8.4.4#dns'
    - 'tls://1.0.0.1#dns'
    - 'tls://[2001:4860:4860::8844]#dns'
    - 'tls://[2606:4700:4700::1001]#dns'
  proxy-server-nameserver:
    - https://doh.pub/dns-query
  nameserver-policy:
    "geosite:cn,private":
      - https://doh.pub/dns-query
      - https://dns.alidns.com/dns-query
    "geosite:!cn,!private": 
      - "tls://dns.google"
      - "tls://cloudflare-dns.com"
